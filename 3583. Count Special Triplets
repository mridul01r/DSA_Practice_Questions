3583. Count Special Triplets
Link - https://leetcode.com/problems/count-special-triplets/description/?envType=daily-question&envId=2025-12-09
Difficulty - Medium

Solution - O(n)

class Solution {
    public int specialTriplets(int[] nums) {
        int n = nums.length;
        int max = 100000;
        int mod = 1000000007;
        int[] freqPrev = new int[max + 1];
        int[] freqNext = new int[max + 1];

        for (int num: nums) {
            if (num >= 0 && num <= max) freqNext[num]++;
        }

        long ans = 0;

        for (int i = 0; i < n; i++) {
            int curr = nums[i];

            if (curr >= 0 && curr <= max) freqNext[curr]--;

            int x = curr * 2;
            if (x >= 0 && x <= max) {
                long left = freqPrev[x];
                long right = freqNext[x];
                ans = (ans + left * right) % mod;  
            }
            if (curr >= 0 && curr <= max) freqPrev[curr]++;
        }

        return (int) ans;
    }
}
