3318. Find X-Sum of All K-Long Subarrays I
link - https://leetcode.com/problems/find-x-sum-of-all-k-long-subarrays-i/description/?envType=daily-question&envId=2025-11-04

difficulty - easy

solution -> O(n*klog(k))

class Solution {
    class Pair implements Comparable<Pair> {
        int num;
        int freq;
        public Pair(int n, int f) {
            this.num = n;
            this.freq = f;
        }
        public int compareTo(Pair p2) {
            if (this.freq != p2.freq) return p2.freq - this.freq;
            return p2.num - this.num;
        }
    }

    public int[] findXSum(int[] nums, int k, int x) {
        int n = nums.length;
        int[] ans = new int[n - k + 1];

        for (int i = 0; i <= n - k; i++) {
            HashMap<Integer, Integer> map = new HashMap<>();
            PriorityQueue<Pair> pq = new PriorityQueue<>();
            for (int j = i; j < i + k; j++) {
                map.put(nums[j], map.getOrDefault(nums[j], 0) + 1);
            }

            for (int num : map.keySet()) pq.add(new Pair(num, map.get(num)));
            HashSet<Integer> set = new HashSet<>();

            int l = 0;
            while (l < x && !pq.isEmpty()) {
                set.add(pq.poll().num);
                l++;
            }

            int sum = 0;
            for (int j = i; j < i + k; j++) {
                if (set.contains(nums[j])) sum += nums[j];
            }
            ans[i] = sum;
        }
        return ans;
    }
}
